# Resurrect64 スプライトシートジェネレーター

Resurrect64カラーパレット対応のスプライトシートジェネレーターです。ゲーム開発やピクセルアート制作において、複数のスプライト画像を1枚のシート画像にまとめて出力できます。

## 機能

### スプライト管理
- 12×12ピクセルのスプライトをJSON形式で入力・管理
- 最大256個のスプライトを登録可能
- 個別のスプライトの追加・削除機能
- サムネイル付きスプライト一覧表示

### Resurrect64カラーパレット
- 64色の専用カラーパレットを搭載
- 各ピクセルは0〜64の数値で指定
  - `0`: 透明
  - `1-64`: Resurrect64パレットの各色に対応

### リアルタイムプレビュー
- 384×384pxのキャンバスでリアルタイム表示
- チェッカーボード背景で透明部分を視覚化
- プレビュー情報（スプライト数、シートサイズ、グリッド）の表示

### レイアウト設定
以下の項目をカスタマイズ可能：

| 項目 | 説明 | 範囲 | デフォルト |
|------|------|------|------------|
| **横列数** | 1行あたりのスプライト数 | 4-16列 | 8列 |
| **パディング** | プレビュー時のスプライト間隔 | 0-4px | 0px |
| **マージン** | シート全体の余白 | 0-4px | 0px |
| **PNG出力用パディング** | PNG出力時のスプライト間隔 | 0-4px | 2px |

#### プリセット
- **標準**: 8列 / パディング0 / マージン0 / PNG出力2
- **密集**: 12列 / パディング0 / マージン0 / PNG出力2
- **間隔あり**: 6列 / パディング2 / マージン2 / PNG出力2
- **カスタム設定**: 手動で調整した場合

### PNG出力
- **単体スプライト**: 1個の場合は36×36px（12px × 3倍）で出力
- **スプライトシート**: 2個以上の場合はシート形式で出力
- ファイル名に日時情報を自動付与
- 出力倍率: 3倍（設定可能）

#### テクスチャブリーディング対策
**PNG出力用パディング**機能により、ゲームエンジンでスプライトシートを使用する際のテクスチャブリーディング（滲み出し）問題を防止できます。

- **プレビュー時**: 通常の「パディング」設定を使用（密集表示可能）
- **PNG出力時**: 「PNG出力用パディング」設定を使用（デフォルト2px）

これにより、12×12ピクセルいっぱいにドット絵を描いた場合でも、隣接するスプライトとの干渉を防ぐことができます。

## 使い方

### 1. スプライトデータの準備
12×12の2次元配列をJSON形式で用意します。

```json
[
  [0,0,0,1,1,1,1,1,1,0,0,0],
  [0,0,1,2,2,2,2,2,2,1,0,0],
  [0,1,2,3,3,3,3,3,3,2,1,0],
  [1,2,3,4,4,4,4,4,4,3,2,1],
  [1,2,3,4,5,5,5,5,4,3,2,1],
  [1,2,3,4,5,6,6,5,4,3,2,1],
  [1,2,3,4,5,6,6,5,4,3,2,1],
  [1,2,3,4,5,5,5,5,4,3,2,1],
  [1,2,3,4,4,4,4,4,4,3,2,1],
  [0,1,2,3,3,3,3,3,3,2,1,0],
  [0,0,1,2,2,2,2,2,2,1,0,0],
  [0,0,0,1,1,1,1,1,1,0,0,0]
]
```

### 2. スプライトの追加
1. テキストエリアにJSON配列をペースト
2. 「追加」ボタンをクリック
3. プレビューとスプライト一覧に反映されます

### 3. レイアウトの調整
1. レイアウト設定パネルでパラメータを調整
2. プリセットを選択するか、カスタム設定で細かく調整
3. リアルタイムでプレビューに反映されます

### 4. PNG出力
1. 「PNG出力」ボタンをクリック
2. ブラウザのダウンロード機能でPNGファイルが保存されます
3. ファイル名: `spritesheet_[列数]x[行数]_[日時].png`（シートの場合）

## 技術仕様

- **フレームワーク**: p5.js 1.10.0
- **スプライトサイズ**: 12×12ピクセル（固定）
- **最大スプライト数**: 256個
- **カラーパレット**: Resurrect64（64色 + 透明）
- **出力形式**: PNG
- **出力倍率**: 3倍（36×36px per sprite）

## ファイル構成

```
spritesheet_Resurrect64/
├── index.html          # メインHTML
├── sketch.js           # アプリケーションロジック（p5.js）
├── style.css           # スタイルシート
└── README.md           # このファイル
```

## ブラウザ対応

- Chrome（推奨）
- Firefox
- Safari
- Edge

※ Canvas API と p5.js をサポートする最新のブラウザが必要です。

## 更新履歴

### 最新版
- PNG出力専用パディング機能を追加
  - テクスチャブリーディング（滲み出し）対策
  - プレビューと出力で異なるパディング設定が可能

### 過去の更新
- スプライト検証を12×12配列に対応
- スプライト出力スケールを36pxに変更

## ライセンス

このプロジェクトはオープンソースです。

## クレジット

- **Resurrect64 パレット**: [Resurrect 64](https://lospec.com/palette-list/resurrect-64) by Kerrie Lake
